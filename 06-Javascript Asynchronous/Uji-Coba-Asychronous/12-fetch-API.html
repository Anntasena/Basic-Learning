<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fetch API</title>
    </head>
    <body>
        <form>
            <label for="username">
                Username :
                <input type="text" id="username" name="username" />
            </label>
            <br />
            <label for="password">
                Password :
                <input type="password" id="password" name="password" />
            </label>
            <br />
            <input type="button" id="login" value="Login" />
            <h1 id="response"></h1>
        </form>

        <script>
            function doLogin() {
                // Syntax
                // const request = new Request ("URL/input", {konfigurasi})
                const request = new Request(
                    "https://test-api-endpoint.free.beeceptor.com",
                    {
                        method: "POST",
                        headers: {
                            "Content-Type": "product/json",
                            Accept: "product/json",
                        },
                        body: JSON.stringify({
                            username: document.getElementById("username").value,
                            password: document.getElementById("password").value,
                        }),
                    }
                );

                const response = fetch(request)

                console.log(response)
                response
                  .then((response) => response.json())
                  .then(function(json) {
                    document.getElementById("response").textContent = json.success
                  })
                  .catch(function (error) {
                    document.getElementById("response"). textContent = error
                  })

            }

            document.getElementById("login").onclick = doLogin

        </script>
    </body>
</html>
